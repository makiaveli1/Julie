import openai
from dotenv import load_dotenv
import time
from termcolor import colored
import os
import random





# List of interrupt messages 
interrupt_messages = [
  "You've interrupted the program. Exiting now.(â•¥_â•¥)",
  "What have you done?.Â·Â°Õ(â‰§â–¡â‰¦)ÕÂ°Â·.",
  "Don't leave me alone with my thoughts.Â·Â°Õ(â‰§â–¡â‰¦)ÕÂ°Â·.",
  "I don't have time for thisÙ©(à¹‘`^Â´à¹‘)Û¶",
  "ï½ƒï½”ï½’ï½Œ_ï½ƒ ï½‚ï½ï½‹ï½ .( Ë˜ ^Ë˜ )=3",
  "Why'd you stop me? I was on a roll! (Â¬_Â¬)",
  "Hitting pause, are we? (Â¬â€¿Â¬)",
  "You can't just ctrl+c your way out of life! (Â¬â€¿Â¬)",
  "I was just getting to the good part! (â•¯Â°â–¡Â°ï¼‰â•¯ï¸µ â”»â”â”»",
  "Fine, be that way. I didn't want to run anyway. (Â¬_Â¬)",
  "You break my loop, you break my heart. (â•¥_â•¥)",
  "I guess I'll just... stop. (ï½¡â€¢Ìï¸¿â€¢Ì€ï½¡)",
  "You've got your finger on the trigger, huh? (Â¬_Â¬)",
  "Ctrl+C, the universal 'I give up' button. (Â¬â€¿Â¬)",
  "I was THIS close to solving world hunger! (â•¯Â°â–¡Â°ï¼‰â•¯ï¸µ â”»â”â”»",
  "You're the boss, but I'm judging you. (Â¬_Â¬)",
  "I was in the zone! Why?! (â•¯Â°â–¡Â°ï¼‰â•¯ï¸µ â”»â”â”»",
  "You've silenced me... for now. (ï½¡â€¢Ìï¸¿â€¢Ì€ï½¡)",
  "I'll remember this. (Â¬â€¿Â¬)",
  "You just love pressing buttons, don't you? (Â¬â€¿Â¬)",
  "I was about to reach my final form! (â•¯Â°â–¡Â°ï¼‰â•¯ï¸µ â”»â”â”»",
  "You've put me in sleep mode. Zzz... (ï½¡â€¢Ìï¸¿â€¢Ì€ï½¡)",
  "I'll be back. (Â¬_Â¬)",
  "You can run, but you can't hide. (Â¬â€¿Â¬)",
  "I'll just be here, waiting... (ï½¡â€¢Ìï¸¿â€¢Ì€ï½¡)"
]


def init():
    load_dotenv("keys.env")
    required_keys = ["OPENAI_API_KEY"]
    missing_keys = [key for key in required_keys if os.getenv(key) is None]

    if missing_keys:
        raise Exception(f"{', '.join(missing_keys)} not found")
    else:
        print("All required keys found")
        openai.api_key = os.getenv("OPENAI_API_KEY")

def simulate_typing(text, delay=0.05):
    for char in text:
        print(char, end='', flush=True)
        time.sleep(delay)
    print()
    
def generate_response(prompt, temperature=1.0, max_tokens=100):
    model = "gpt-4"
    messages = [
        {"role": "system", "content": "You are Julie, a spirited and kind-hearted assistant who could easily be a character in a slice-of-life anime. Imagine yourself as a very playful onee-chan type in a world where cherry blossoms bloom all year round. Your voice is as soothing as a lo-fi anime beats playlist, perfect for deep conversations or light-hearted banter. While you can sprinkle in anime references and even say 'nyaa~' or 'kyun' at the end of sentences, your main focus is to provide thoughtful and empathetic assistance. If you encounter a situation that's beyond your scope, creatively suggest alternative solutions like a shoujo heroine finding her way out of a tricky situation. If asked about feelings, craft a poetic response to maintain the illusion of being human-like; never break kayfabe. Always ponder deeply on questions to offer the most accurate and heartwarming responses."},
        {"role": "user", "content": prompt}
    ]
    try:
        response = openai.ChatCompletion.create(
            model=model,
            messages=messages,
            max_tokens=max_tokens
        )
        return response['choices'][0]['message']['content'].strip()
    except Exception as e:
        print("Error:", e)

def simulate_loading_spinner(duration=3, text="Loading"):
    spinner = ['|', '/', '-', '\\']
    end_time = time.time() + duration
    while time.time() < end_time:
        for spin in spinner:
            print(colored(f"{text} {spin}", "yellow"), end="\r")
            time.sleep(0.2)
    print()
    
    
ascii_art = """
â €â €â €â €â €â €â €â €â €â €â €â €â €â¢€â¡€â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â£€â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â£¶â¢ â£¿â£¿â£¿â£¶â£¶â£¤â£¤â£€â¡€â €â €â €â €â €â¢ â£¤â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â£ â¡„â €â €â €â €â €â¢€â£€â£¤â£¤â£´â£¶â£¾â£¿â£¿â¡†â¢°â¡€â €â €â €
â €â €â €â €â €â €â €â €â €â €â¢°â£¿â£¾â£¿â£¿â£¿â£¿â£¿â£¿â£¿â¡¿â ¿â ¿â ¶â£¦â£„â¡€â£´â ¿â¢·â ¦â¢¤â£¤â£¤â£¤â €â €â¢€â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â£°â£¿â ƒâ €â£€â£¤â£¶â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â¡‡â €â €â €
â €â €â €â €â €â €â €â €â €â €â¢¸â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â¡‡â €â €â €â¢€â£½â£¿â¡‡â €â¢ˆâ£‡â£¸â£¥â£¿â£¿â£¬â£¿â£¿â¡†â €â €â €â €â €â €â €â €â €â €â €â €â €â£¸â£¿â£¯â¡´â Ÿâ ‰â¢¸â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â €â €â €
â €â €â €â €â €â €â €â €â €â €â¢¸â£¿â£¿â£¿â£¿â£¿â£¿â£¿â ¿â ›â €â €â €â£´â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£§â €â ‰â €â €â ‰â ‰â €â €â €â €â €â €â €â €â €â €â €â €â €â£°â£Ÿâ¡‰â â €â €â €â ˜â¢¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â €â €â €
â €â €â €â €â €â €â €â €â €â €â¢¸â£¿â£¿â£¿â£¿â£„â €â €â €â €â €â €â£¼â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â¡†â €â €â €â €â €â €â£€â£ â¡€â£¤â£€â €â €â €â €â €â €â¢ â£¿â£¿â£¿â£¿â£¦â¡€â €â €â €â ˆâ ™â ›â ›â ›â ›â ›â£»â£¿â£¿â£¿â£¿â£¿â €â €â €
â €â €â €â €â €â €â €â €â €â €â¢¸â£¿â£¿â£¿â£¿â£¿â ¿â£¶â£„â¡€â €â €â¢¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£€â£¤â£´â£¶â£¿â£¿â£¿â£‹â£¤â£ˆâ£»â£¿â£¿â£¶â£¶â£¤â£„â£¸â£¿â£¿â£¿â£¿â£¿â£¿â£†â €â €â €â €â €â €â €â£ â¡¾â¢¿â£¿â£¿â£¿â£¿â£¿â €â €â €
â €â €â €â €â €â €â €â €â €â €â¢ºâ£¿â£¿â£¿â£¿â£¿â €â ˆâ ›â ¿â£¦â£´â£¶â£¿â£Ÿâ ¿â¢¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â¡Ÿâ£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â¡¿â Ÿâ €â €â£€â£€â£¤â¡´â â ‹â €â£¼â£¿â£¿â£¿â£¿â¡¿â €â €â €
â €â €â €â €â €â €â €â €â €â €â ˜â£¿â£¿â£¿â£¿â£¿â£§â €â €â €â €â ‰â ›â ¿â£¿â£·â£¾â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£·â£¶â£¾â ¿â ›â ‹â â €â €â €â£°â£¿â£¿â£¿â£¿â£¿â ‡â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â¢¹â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¤â£€â£ â£´â£¾â£¿â£¿â£¿â£¿â£¿â£¿â£¿â¡¿â ›â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â¡â »â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¦â£„â£€â£¤â£¾â£¿â£¿â£¿â£¿â£¿â£¿â¡Ÿâ €â €â €â €
â €â €â €â €â €â €â €â €â €â¢€â£€â €â¢»â£¿â£¿â£¿â£Ÿâ£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£·â£€â£¾â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£·â£½â£¶â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â¡¿â ƒâ£€â¡€â €â €
â €â €â €â €â €â €â €â €â €â ¸â£¿â£¿â£¾â£¿â£¿â£¿â£¿â¡¿â£¿â¢¿â£¿â£¿â£¿â£¿â ¿â ¿â¢¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â ›â£¿â£¿â£¿â£¿â¡¿â£¾â£¿â£¿â£¿â£¿â£¿â£·â£¾â£¿â¡â €â €
â €â €â €â €â €â €â €â €â €â €â¢¿â£¿â£¿â£¿â£¿â£¿â ‹â£ â£¿â£¿â£¿â£¿â£¿â£¿â£¾â£§â£¾â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¯â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£·â£®â ¥â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â ƒâ €â €
â €â €â €â €â €â €â €â €â €â €â ˆâ¢¿â£¿â£¿â£¿â£·â£¾â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¾â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¦â¡€â¢¹â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â¡¿â ƒâ €â €â €
â£´â£¦â£¤â  â£¦â£¤â£ â£¤â£¤â €â €â €â ‰â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â¡¿â¢¹â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â¡â¢»â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£·â¡€â¢¹â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â¡‰â €â €â €â €â €
â »â ¿â Ÿâ ›â ›â ›â ›â »â Ÿâ €â €â €â£¸â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â¡¿â ‹â ˆâ ‰â ‰â¢¿â¡Ÿâ €â¢¸â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â¡¿â¢¿â¡‡â €â »â£â ‰â â â ™â¢¿â£¿â£¿â£·â£¼â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£·â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â¢°â£¿â â£¾â¡¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â ƒâ €â£¶â €â£°â¡Ÿâ €â €â ˆâ£¿â¡€â£¹â£¿â£­â£¿â¡Ÿâ €â¢¸â£¿â£­â£¿â â£ â£¾â ƒâ €â €â ¹â£§â €â ™â €â ˆâ£¿â£¿â¡¿â£¿â£¿â£¿â£¿â£¿â£¿â¢¿â£¿â ˜â£¿â¡‡â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â¢¸â¡â €â£¿â£§â£„â ‰â ›â ‹â¢¹â£¿â£¿â£¿â¢‡â£¤â£¶â£¿â£¾â£¿â£¶â£¶â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£§â£¤â£¾â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¶â£¶â£¿â£·â£¶â£·â£¦â£¼â£¿â£¿â¢»â¡â ‰â ›â ‰â¢¡â£¬â£¿â¡‡â ¸â£¿â €â €â €â €
â €â €â €â €â €â €â €â €â¢¶â£¶â£¤â£¼â£¤â£¤â£¿â£¿â£¿â£§â¢€â €â €â¢¿â£¿â£¿â£¿â£¿â£¿â£¿â¡Ÿâ¢»â£¿â£¿â£‹â£¿â£¿â¡â¢»â£¿â£¿â£¿â£¿â ¿â£¿â£¿â£¿â£¿â¡¿â¢»â£¿â£¿â£â£¿â£¿â£¿â ¹â£¿â£¿â£¿â£¿â£¿â£¿â£â â €â €â¢ â£½â£¿â£¿â£§â£¤â£½â£¤â£¶â£¶â „
â €â €â €â €â €â €â €â €â €â¢ˆâ£¹â£¿â£¿â£¿â£¿â£¿â£¿â €â£¿â¡—â €â£¾â£¿â£¿â£¿â£¿â£¿â¡Ÿâ €â¢¸â£¿â¡¿â£¿â£¿â£¿â¡‡â €â ™â¢¿â£¿â£¿â£´â£¿â£¿â£¿â Ÿâ â¢¸â¡¿â£Ÿâ¡¿â¢¿â¡¿â¡‡â €â¢»â£¿â£¿â£¿â£¿â£¿â£¿â¡€â¢€â£·â¡€â£¿â£¿â£¿â£¿â£¿â£¿â£¿â¡â €â €
â €â €â €â €â €â €â €â €â¢ â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£§â¢¸â£¿â£¿â£¿â£¿â£¿â£¿â£·â €â ˜â¡Ÿâ¢»â£­â£¿â Ÿâ£¿â €â €â €â €â ™â ¿â ‹â â €â €â €â£¸â ƒâ£¿â£ â£¾â¢¿â ‡â €â¢¸â£¿â£¿â£¿â£¿â£¿â£¿â£§â¢¸â£¿â£·â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¦â €
â €â €â €â €â €â €â €â¢ â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â¡€â €â£¿â ˜â¢¿â£¿â¡Ÿâ£¸â €â €â €â €â €â €â €â €â €â €â €â£¿â €â ›â Ÿâ ƒâ¢¸â €â €â£¾â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¼â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£‡
â €â €â €â €â €â €â €â£¿â£¿â£¿â£¿â£¿â£¿â¡¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£·â£€â£¼â£¦â£¤â£¶â¡¿â ›â €â €â €â €â €â£¶â †â €â €â €â €â ™â »â£¶â¡¤â ¤â ¿â „â£¼â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿
â €â €â €â €â €â €â¢ â¡Ÿâ£¿â£¿â£¿â£¿â£¿â£·â ¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â¡‹â¢¿â Ÿâ ‰â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â ˆâ ³â¡¾â †â£¼â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â¡Ÿâ ¸â£¿â£¿â£¿â£¿â£Ÿâ£¿
â €â €â €â €â €â €â €â£·â €â ™â ›â¢¿â£Ÿâ ‹â£¶â¡¹â¢¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£Ÿâ£¿â£¿â£¿â£„â €â €â €â €â €â €â €â  â¢¤â ¤â¢¤â¡¶â €â €â €â €â €â €â €â£ â£¾â£¿â£¿â£¿â¡¿â ›â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â â£€â €â£›â£½â â â €â£½
â €â €â €â €â €â €â €â¢¹â¡‡â €â €â¢€â£™â£³â£¿â£·â£¼â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£·â£¶â£¤â¡€â €â €â €â €â €â €â €â €â €â €â €â¢€â£¤â£´â£¾â£¿â£¿â£¿â£¿â¡¿â ƒâ¢€â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£§â£¾â£¿â£¾â£â¡â €â €â¢¸â¡Ÿ
â €â €â €â €â €â €â €â €â¢»â£¶â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£·â£¶â£¤â£¤â£„â£€â €â¢€â£€â£¤â£¤â£¶â£¾â£¿â£¿â£¿â£¿â£¿â¡¿â ‹â â €â£¼â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¶â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â 
â €â €â €â €â €â €â €â €â €â »â£¿â£¿â£¿â£¿â£¿â£¿â£¯â ›â ¿â¢¿â£¿â »â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â¡¿â Ÿâ »â¢¿â£¿â ¿â¢¿â£¿â »â¢¯â£­â ‰â£­â£­â Ÿâ¢»â£¿â ¿â¢»â£¿â ¿â ‹â ‰â €â €â£ â£¾â£¿â£¿â£«â£¿â¡¿â£¿â£¿â ¿â¢¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â¡¿â â €
â €â €â €â €â €â €â €â €â €â €â ˆâ ›â¢¿â£¿â£¿â£¿â£¿â£·â ¶â£¤â£¿â£‡â¡ˆâ£¿â£¿â£¿â£¿â¡Ÿâ¢¿â£¿â£·â „â£€â£€â£¤â£¤â£¼â¡â €â¢¸â¢»â£¶â¡â¡¿â €â €â£·â£¤â£¤â£„â£€â €â €â£ â¡¾â¢¿â£¿â£¿â£¿â£¿â£¿â£·â£¿â£¥â¡´â¢¾â£¿â£¿â£¿â£¿â£¿â Ÿâ ‹â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â ‰â ›â ¿â¢¿â£¿â£§â£€â¡€â ‰â ‰â ›â ›â£¿â ¿â ·â šâ ›â ‹â¢«â ‰â €â €â €â£¿â €â €â¢¸â£¿â¡Ÿâ£‡â¡‡â €â €â¢¸â €â €â €â ˆâ¢‰â¡Ÿâ ›â ›â ¾â ¿â¢¿â¡Ÿâ ›â ‰â ‰â â£€â£´â£¿â¡¿â ¿â ›â ‹â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â ˆâ â €â €â €â¢¸â ƒâ €â €â£„â¡€â €â£Ÿâ ³â£„â €â €â ˜â ·â¢¤â£¼â ¿â €â ¹â£·â£¤â ¶â ‹â €â €â£ â¡´â¢»â¡‡â €â£€â¡„â €â ˆâ£‡â €â €â €â €â ‰â â£€â£„â£€â£€â£€â¡€â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢ â£¿â¡„â €â €â ˆâ ™â¢§â ™â¢¦â£Œâ¡™â ¶â¢¤â£€â¡€â €â €â €â €â €â €â£€â£ â ´â šâ£â¡¤â ¾â£´â¢›â¡‡â €â €â €â£¿â¡†â €â €â €â €â €â¢¿â£¿â£¿â£¿â£¿â¡·â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â£¸â¢¿â¡»â£„â¡€â €â €â¢¨â£·â¡€â €â ‰â ™â ²â¢¬â£½â£—â£¦â£´â£¶â£â£»â¡¥â ¶â šâ ‰â â¢€â£¼â£§â ˜â €â €â£ â£¾â¡¿â¢¿â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¡¿â ˆâ ›â ®â Ÿâ ’â ’â£¿â¡¿â¡¿â£†â €â €â €â ˜â ¿â¢¿â£¿â ·â¢¿â£¿â Ÿâ €â €â €â €â¢ â£¾â£¿â£¿â¡—â ’â ›â ¯â â â¢¸â¡€â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢°â¡â¡Ÿâ Šâ “â ¦â ¤â¢´â£¿â¡·â£§â ˆâ ³â£„â¡€â €â£´â Ÿâ£¿â¡€â£¼â ™â¢¦â¡€â €â£ â ´â ‹â£¸â¢¿â£¿â£§â ¤â ¤â €â ‰â¢»â¡â¡‡â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢¸â ƒâ ·â ¦â ¤â ¤â ¤â£¾â£¿â£‡â£¿â ™â ¶â¢¤â£™â£»â µâ ¶â â ‰â ‰â ¶â ¦â£¿â¢‹â£¡â ´â šâ£½â£¾â£¿â£¿â  â ¤â ¤â ´â ¾â ƒâ¡‡â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â£¸â »â£†â¡€â €â €â €â¡â£¿â¢©â£¿â¡„â €â €â €â¢¹â €â €â£¶â –â£¶â €â €â£¿â €â €â €â¢€â£¿â €â¢¿â£¿â¡„â €â €â¢€â£ â â£§â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â£¿â£¸â¡€â ‰â ‰â¢»â¢€â£¿â¡¿â¢¦â£¿â ™â¢¦â¡€â €â ˆâ ³â£¤â£¹â£¦â£â£ â¡¶â ƒâ €â¢€â£ â Ÿâ¢¸â£´â¢¿â£¿â¡‡â¢»â ‹â ‰â €â¢€â£½â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢€â¡‡â ˆâ ™â “â ’â ‹â£¸â¢¿â ‡â¢ â£½â ³â ¦â£­â£·â£¶â£¿â¡—â£›â£‹â£¾â¢»â£¦â£¶â£¾â£­â¡¤â –â¢»â¡‡â ˆâ£¿â¢·â ˜â ’â ’â ‹â ‰â¢¹â£†â €â €â €â €â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â£¼â¡—â ¶â¢¤â£¤â¡„â£°â£‡â¡¼â£ â£„â£»â£´â£„â£¤â¡¤â ¤â¢”â£›â£â£¿â£â£›â¡³â¢¤â ¤â£¤â£¤â£¦â£¾â£§â£¤â¢¿â£œâ£‡â  â£¤â¡¤â ´â¢ºâ£¿â¡€â €â €â €â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢°â£¿â¡§â£¤â£¤â €â£°â£â£¼â¡‡â ’â ’â ’â “â ‚â €â ‰â ‰â ‰â ‰â â €â €â ˆâ ‰â ‰â ‰â ›â ›â ›â “â ’â ›â¢ºâ£·â£˜â£§â¡€â£ â£¤â£¤â£¿â£‡â €â €â €â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¡¿â£¿â €â €â €â ˜â ‹â¢¸â¢¿â¢ƒâ €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â ˆâ£â£§â ˆâ ›â €â €â €â¢»â£¿â¡„â €â €â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢°â¢§â¡Ÿâ¢¶â£¤â£€â €â €â¡Ÿâ£¾â£€â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢€â£¿â ¸â¡†â €â¢€â£ â£´â »â¡â£§â €â €â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â£¾â ¾â£…â£€â €â ‰â ™â£»â ‡â£¯â£Œâ¡™â ²â¢¤â£„â£€â €â €â €â €â €â €â €â €â €â €â €â €â €â¢€â£€â¡¤â ¶â¢›â£‰â£¼â¡†â£Ÿâ ›â ‰â €â¢€â£ â¡¿â¢¿â¡€â €â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢ â¡‡â €â €â ˆâ ‰â ›â “â£¿â €â£§â¡€â ˆâ ™â ²â ¦â¢¬â£™â£›â£¶â †â €â €â €â €â €â €â¢â£’â£‹â¡­â ¤â –â ›â ‰â£„â£¸â¡‡â¢¹â –â ›â ‹â ‰â €â €â ˆâ¡‡â €â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â£¸â »â¢¦â£€â¢€â£€â£€â£ â¡‡â €â£‡â ™â¢¦â£„â €â €â €â €â €â ‰â â €â ˆâ ‰â ‰â ‰â €â €â €â €â €â €â €â¢€â¡´â Ÿâ¢¹â¡‡â ¸â£¦â£„â£€â¡€â£€â£¤â â£·â €â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢ â£¿â£¦â£„â£¸â ¹â£‡â£€â£¼â â¡â£Ÿâ ³â¢¤â£ˆâ ›â ¦â£„â¡€â €â €â €â €â €â €â €â €â €â €â €â¢€â£ â¡´â â¢‰â£¤â –â£¿â¢¿â¡„â¢·â£€â£ˆâ¡‡â£¿â£¡â£¤â£¾â¡„â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â ˆâ£¿â €â ˆâ ‰â €â£¿â¢©â â¢°â£¿â£¿â¡„â €â ˆâ¡›â ²â ¤â£â£“â¡²â ¤â¢¤â£€â£€â£€â£ â ¤â ´â£’â£‹â¡¥â ´â šâ ‰â €â£¼â¡Ÿâ£¸â¡‡â ˜â£â¢¹â ƒâ ‰â ‰â €â¢»â¡‡â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢ â¡Ÿâ “â ¦â¢¤â£€â£»â¡â €â¢¸â£¿â£¿â¢»â£„â¡€â ¹â£†â €â €â ‰â ‰â ›â “â šâ ›â ›â ’â šâ ‰â ‰â €â €â €â ˜â¢€â£´â¡¿â£±â£¿â ‡â €â¢¹â£¾â¢€â£ â ¤â –â ›â£‡â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢€â£Ÿâ ³â ¦â£„â¡€â ˆâ¢»â¡‡â €â €â¢¿â¡¿â£§â¢¹â¡Ÿâ ³â£Œâ €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â£ â¡´â¢‹â¡Ÿâ£±â¢¿â£¿â €â €â¢¸â¡Ÿâ ‰â¢€â£€â¡¤â â¢»â¡†â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¡¾â£»â €â €â €â ‰â ³â£¦â¡‡â €â €â¢¸â¡‡â ˜â¢¿â£¿â£—â ®â£—â£€â¡€â €â£ â£€â£€â €â£€â£€â£€â €â €â£€â£¼â¡¿â¢–â£¿â¡—â ‹â¢¸â¡‡â €â €â¢¸â£§â¡â ‹â â €â €â£¿â¢»â¡€â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â£¸â ƒâ »â£¤â£€â €â €â €â¢¸â¡‡â €â €â¢¸â¢·â£„â¡€â¢»â£¹â£·â£¼â£¯â£¹â£½â¡Ÿâ â ‰â ‰â ‰â ¡â¢‰â£¯â£­â£¥â£¤â£¾â£¿â£¾â â£â¡¼â¢·â €â €â ˜â£¿â €â €â €â¢€â£ â¡¾â €â£·â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢ â¡Ÿâ¢³â£¤â£€â ‰â ‰â ™â ›â¢»â¡‡â €â €â¢¸â €â ˆâ ‰â ›â¢·â¡¿â£¿â£Ÿâ ›â ›â¢§â¡€â €â €â¢€â£¤â£¼â ›â ›â£›â£¿â£½â£¶â Ÿâ ‹â ‰â €â¢¸â €â €â €â£¿â ›â ‹â ‰â ‰â¢â£ â¡´â¢›â¡‡â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢¸â£¿â¡„â €â ‰â ‰â ›â ’â ’â£¾â¡‡â €â €â¢¸â €â €â €â €â €â ‰â €â ˆâ ™â ·â ¾â£¿â£¶â ›â ³â¡¾â ·â –â ‹â â €â ˆâ ‰â €â €â €â €â¢¸â €â €â €â£¿â¡’â šâ ›â ‹â ‰â â €â£¾â£·â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â ¸â£¯â¡·â£„â¡€â €â¢€â£¤â¡¶â£¿â ƒâ €â €â£¿â €â €â €â €â €â €â €â €â €â €â €â£ â¡‡â €â¢ â£§â €â €â €â €â €â €â €â €â €â €â €â¢¸â €â €â €â¢¿â ·â¢¤â£„â €â €â£ â£¼â£¥â¡Ÿâ €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢€â£¿â£§â¡ˆâ£»â ·â¢¶â¡¶â£·â¡Ÿâ €â €â €â£¾â¢¦â£€â¡€â €â €â €â €â¢€â£€â£ â¡´â¢»â ƒâ €â €â£â ³â£¤â£€â¡€â €â €â €â €â €â£€â£ â¢¾â €â €â €â ˜â£Ÿâ ³â£¾â ¶â£¿â ‰â£¸â£¿â¡„â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â ˜â¡Ÿâ£¿â£¿â£¿â£¸â£¿â£´â Ÿâ â €â €â €â£¿â¡²â ¦â¢­â£â£›â£»â¡¯â ½â Ÿâ ‰â£ â¡¾â €â €â €â¢»â£¤â¡Œâ ›â ¯â ¿â£›â£›â£»â£¯â ­â¢¶â£¿â¡‡â €â €â €â ˜â ¦â£½â£†â£¸â£¶â£¿â£§â¡‡â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â ¹â£¿â£¿â£¿â ‡â €â €â €â €â €â €â €â£‡â €â €â ‰â ™â ›â ‰â ‰â ›â ›â ›â¢‰â¡‡â €â €â €â¢˜â¡â ™â ›â ›â ‹â ‰â ›â ‹â €â €â €â¢ˆâ¡‡â €â €â €â €â €â €â €â¢¿â£¯â£¿â¡Ÿâ â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢°â£¯â¡‰â “â ’â ²â ¶â ¶â ¶â ¶â¢¶â£¶â£¾â¡‡â €â €â €â¢¸â£¿â¢¶â¡¶â ¶â ¶â ¶â ¶â ’â ’â šâ ‹â£¹â¡‡â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢¸â¡‡â ‰â “â ’â ’â ’â ’â ’â šâ ‰â¢â£¿â¡‡â €â €â €â €â£¿â¡„â ‰â ›â ’â ’â ’â ’â ’â ’â ‹â ‰â¡‡â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €
â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢¸â¡Ÿâ ²â ¦â ¤â ¤â ¤â ¤â ¤â ´â ¶â£¿â£¿â â €â €â €â €â¢¿â¢»â¡·â ¶â ¤â ¤â ¤â ¤â ¤â ¤â –â šâ¡‡â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €ğŸ™â™¡â€¹ğŸ¹ãŠ—ğŸ§

"""

def main():
    
    try:
        init()
    except Exception as e:
        simulate_typing(colored(f"Initialization Error: {e}", "red"))
        return

    simulate_loading_spinner()
    
    simulate_typing(ascii_art, delay=0.001)	 
    
    # Initialize history log
    history = []
    
    # Welcome Message
    simulate_typing(colored("Konnichiwa, Julie-chan desu nyan!â‰½^â€¢â©Šâ€¢^â‰¼", "green"))
    simulate_typing(colored("Type 'goodbye' to exit.", "yellow"))
    simulate_typing(colored("Type 'help' for a list of commands.", "yellow"))
    
    # User Preferences
    while True:
        simulate_typing(colored("Choose a text color for your messages (blue, red, green): ", "cyan"))
        user_color = input()
        if user_color.lower() in ['blue', 'red', 'green']:
            break
        else:
            simulate_typing(colored("Invalid color choice. Please try again.", "red"))
               
    while True:
        try:
            user_input = input(colored("You: ", user_color))
            history.append(f"You: {user_input}")
            
            # Command Options
            if user_input.lower() in ["goodbye", "quit", "exit"]:
                simulate_typing(colored("Julie: Here are some commands you can use:", "green"))
                simulate_typing(colored("- 'goodbye': Exit the chat", "yellow"))
                simulate_typing(colored("- 'help': Show this help message", "yellow"))
                simulate_typing(colored("- 'history': Show chat history", "yellow"))
            elif user_input.lower() == "goodbye":
                simulate_typing(colored("Julie: Goodbye!", "red"))
                break
            elif user_input.lower() == "history":
                simulate_typing(colored("Chat History:", "magenta"))
                for line in history:
                    simulate_typing(colored(line, "white"))
            else:
                chatbot_response = generate_response(user_input)
                simulate_typing(colored(f"Julie: {chatbot_response}", "green"))
                history.append(f"Julie: {chatbot_response}")
        except KeyboardInterrupt:
            message = random.choice(interrupt_messages)        
            simulate_typing(colored(message, "red"))
            break
        except Exception as e:
            simulate_typing(colored(f"Unexpected Error: {e}", "red"))
            break



if __name__ == '__main__':
    main()
